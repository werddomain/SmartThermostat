{"version":3,"sources":["webpack:///./src/app/login/login-routing.module.ts","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/login/login.module.ts","webpack:///./src/app/shared/index.ts","webpack:///./src/app/shared/modules/index.ts","webpack:///./src/app/shared/pipes/shared-pipes.module.ts"],"names":[],"mappings":"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","file":"login-login-module-ngfactory.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: LoginComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule {}\r\n","<div class=\"login-page\" [@routerTransition]>\r\n    <div class=\"row justify-content-md-center\">\r\n      <div class=\"col-md-4\">\r\n        <img src=\"assets/images/logo.png\" width=\"150px\" class=\"user-avatar\" />\r\n        <h1>{{webSiteName}}</h1>\r\n        <form role=\"form\">\r\n            <div class=\"form-content\">\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" [(ngModel)]=\"username\" name=\"username\" class=\"form-control input-underline input-lg\" placeholder=\"{{ 'Email' | translate }}\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"password\" [(ngModel)]=\"password\" name=\"password\" class=\"form-control input-underline input-lg\" placeholder=\"{{ 'Password' | translate }}\">\r\n                </div>\r\n            </div>\r\n            <a class=\"btn rounded-btn\" (click)=\"loginWithPassword()\">{{ 'Log in' | translate }}</a>\r\n            &nbsp;\r\n            <a class=\"btn rounded-btn\" [routerLink]=\"['/signup']\">{{ 'Register' | translate }}</a>\r\n            &nbsp;\r\n            <a class=\"btn rounded-btn\" (click)=\"loginOnAuthWebsite()\">Social</a>\r\n        </form>\r\n        <p class=\"alert alert-error\" *ngIf=\"loginFailed\">\r\n          Login wasn't successful.\r\n        </p>\r\n      </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { routerTransition } from '../router.animations';\r\nimport { KazoAuthWrapper } from '../shared';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { GlobalService } from '../global.service'\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.less'],\r\n    animations: [routerTransition()]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n    constructor(\r\n        private translate: TranslateService,\r\n        public router: Router,\r\n        private oauthService: OAuthService,\r\n        private kazoAuthWrapper: KazoAuthWrapper,\r\n        private global: GlobalService\r\n    ) {\r\n        this.translate.addLangs(['en', 'fr', 'ur', 'es', 'it', 'fa', 'de', 'zh-CHS']);\r\n        this.translate.setDefaultLang('en');\r\n        const browserLang = this.translate.getBrowserLang();\r\n        this.translate.use(browserLang.match(/en|fr|ur|es|it|fa|de|zh-CHS/) ? browserLang : 'en');\r\n        this.webSiteName = global.ApiConfig.websiteName;\r\n    }\r\n    username: string;\r\n    password: string;\r\n    loginFailed: boolean;\r\n    webSiteName: string;\r\n    ngOnInit() {\r\n        this.loginOnAuthWebsite();\r\n    }\r\n    loginOnAuthWebsite() {\r\n        this.oauthService.loadDiscoveryDocument().then(() => {\r\n            \r\n            this.kazoAuthWrapper.login();\r\n        });\r\n        \r\n    }\r\n    loginWithPassword() {\r\n        //localStorage.setItem('isLoggedin', 'true');\r\n        this.kazoAuthWrapper.loginWithPassword(this.username, this.password)\r\n            .then(_ => {\r\n                console.debug('logged in');\r\n                this.loginFailed = false;\r\n                this.router.navigate(['/dashboard']);\r\n            })\r\n            .catch(err => {\r\n                console.error('error logging in', err);\r\n                this.loginFailed = true;\r\n            });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        TranslateModule,\r\n    LoginRoutingModule,\r\n      FormsModule],\r\n    declarations: [LoginComponent]\r\n})\r\nexport class LoginModule {}\r\n","export * from './modules';\r\nexport * from './pipes/shared-pipes.module';\r\nexport * from './guard';\r\nexport * from './auth/kazo.auth.wrapper';\r\n\r\n","export * from './page-header/page-header.module';\r\nexport * from './stat/stat.module';\r\nexport * from './bread-crumb/bread-crumb.module'\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: []\r\n})\r\nexport class SharedPipesModule { }\r\n"],"sourceRoot":""}