2018-12-23 18:26:56.940 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 18:26:56.977 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 18:26:56.977 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 18:26:56.977 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 18:26:56.977 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 18:26:56.977 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 18:26:57.321 -05:00 [DBG] Starting grant removal
2018-12-23 18:26:57.965 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 18:26:57.969 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 18:26:57.969 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 18:26:57.969 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 18:26:57.969 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 18:26:57.969 -05:00 [DBG] Error Url: /home/error
2018-12-23 18:26:57.970 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 18:26:58.578 -05:00 [ERR] Request matched multiple actions resulting in ambiguity. Matching actions: IdentityServer4.Quickstart.UI.HomeController.Index (ST.WinIot.WebHook)
ST.WinIot.WebHook.Controllers.HomeController.Index (ST.WinIot.WebHook)
2018-12-23 18:26:58.586 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Internal.AmbiguousActionException: Multiple actions matched. The following actions matched route data and had all constraints satisfied:

IdentityServer4.Quickstart.UI.HomeController.Index (ST.WinIot.WebHook)
ST.WinIot.WebHook.Controllers.HomeController.Index (ST.WinIot.WebHook)
   at Microsoft.AspNetCore.Mvc.Internal.ActionSelector.SelectBestCandidate(RouteContext context, IReadOnlyList`1 candidates)
   at Microsoft.AspNetCore.Mvc.Internal.MvcRouteHandler.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Routing.Route.OnRouteMatched(RouteContext context)
   at Microsoft.AspNetCore.Routing.RouteBase.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-23 18:36:34.307 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 18:36:34.354 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 18:36:34.354 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 18:36:34.354 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 18:36:34.354 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 18:36:34.354 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 18:36:34.572 -05:00 [DBG] Starting grant removal
2018-12-23 18:36:34.842 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 18:36:34.846 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 18:36:34.846 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 18:36:34.846 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 18:36:34.846 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 18:36:34.846 -05:00 [DBG] Error Url: /home/error
2018-12-23 18:36:34.846 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 18:36:44.138 -05:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-12-23 18:37:04.647 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-12-23 18:37:04.656 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-12-23 18:37:04.656 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-12-23 18:37:04.660 -05:00 [DBG] Start discovery request
2018-12-23 18:37:06.125 -05:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-12-23 18:51:12.551 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 18:51:12.582 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 18:51:12.583 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 18:51:12.583 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 18:51:12.583 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 18:51:12.583 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 18:51:12.787 -05:00 [DBG] Starting grant removal
2018-12-23 18:51:13.034 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 18:51:13.037 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 18:51:13.037 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 18:51:13.037 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 18:51:13.037 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 18:51:13.037 -05:00 [DBG] Error Url: /home/error
2018-12-23 18:51:13.037 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 19:12:05.174 -05:00 [DBG] Stopping grant removal
2018-12-23 19:12:05.178 -05:00 [DBG] TaskCanceledException. Exiting.
2018-12-23 22:15:52.056 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 22:15:52.107 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 22:15:52.107 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 22:15:52.107 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 22:15:52.107 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 22:15:52.107 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 22:15:52.697 -05:00 [DBG] Starting grant removal
2018-12-23 22:15:53.320 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 22:15:53.323 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 22:15:53.323 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 22:15:53.323 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 22:15:53.323 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 22:15:53.323 -05:00 [DBG] Error Url: /home/error
2018-12-23 22:15:53.323 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 22:19:54.836 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 22:19:54.864 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 22:19:54.865 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 22:19:54.865 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 22:19:54.865 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 22:19:54.865 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 22:19:54.955 -05:00 [DBG] Starting grant removal
2018-12-23 22:19:55.139 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 22:19:55.142 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 22:19:55.142 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 22:19:55.142 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 22:19:55.142 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 22:19:55.142 -05:00 [DBG] Error Url: /home/error
2018-12-23 22:19:55.142 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 23:09:54.880 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 23:09:54.909 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 23:09:54.909 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 23:09:54.909 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 23:09:54.909 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 23:09:54.909 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 23:09:55.000 -05:00 [DBG] Starting grant removal
2018-12-23 23:09:55.139 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 23:09:55.141 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 23:09:55.141 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 23:09:55.141 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 23:09:55.141 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 23:09:55.141 -05:00 [DBG] Error Url: /home/error
2018-12-23 23:09:55.142 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 23:11:50.244 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 23:11:50.274 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 23:11:50.275 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 23:11:50.275 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 23:11:50.275 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 23:11:50.275 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 23:11:50.444 -05:00 [DBG] Starting grant removal
2018-12-23 23:11:50.662 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 23:11:50.664 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 23:11:50.664 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 23:11:50.664 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 23:11:50.664 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 23:11:50.664 -05:00 [DBG] Error Url: /home/error
2018-12-23 23:11:50.664 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 23:12:04.245 -05:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-12-23 23:12:04.324 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[ST.WinIot.WebHook.Models.ApplicationUser]' while attempting to activate 'IdentityServer4.Quickstart.UI.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-23 23:13:54.874 -05:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2018-12-23 23:13:54.905 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2018-12-23 23:13:54.905 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2018-12-23 23:13:54.905 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2018-12-23 23:13:54.905 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2018-12-23 23:13:54.905 -05:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2018-12-23 23:13:55.030 -05:00 [DBG] Starting grant removal
2018-12-23 23:13:55.394 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 23:13:55.396 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 23:13:55.396 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 23:13:55.396 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 23:13:55.396 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 23:13:55.396 -05:00 [DBG] Error Url: /home/error
2018-12-23 23:13:55.397 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 23:14:49.305 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-23 23:14:49.342 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-23 23:14:49.342 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-23 23:14:49.342 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-23 23:14:49.342 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-23 23:14:49.342 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-23 23:14:49.494 -05:00 [DBG] Starting grant removal
2018-12-23 23:14:49.796 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 23:14:49.799 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 23:14:49.800 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 23:14:49.800 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 23:14:49.800 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 23:14:49.800 -05:00 [DBG] Error Url: /home/error
2018-12-23 23:14:49.800 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 23:14:55.288 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-12-23 23:17:54.814 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-23 23:17:54.841 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-23 23:17:54.842 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-23 23:17:54.842 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-23 23:17:54.842 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-23 23:17:54.842 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-23 23:17:54.931 -05:00 [DBG] Starting grant removal
2018-12-23 23:17:55.145 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 23:17:55.147 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 23:17:55.147 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 23:17:55.147 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 23:17:55.147 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 23:17:55.147 -05:00 [DBG] Error Url: /home/error
2018-12-23 23:17:55.147 -05:00 [DBG] Error Id Parameter: errorId
2018-12-23 23:57:31.373 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-23 23:57:31.413 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-23 23:57:31.413 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-23 23:57:31.413 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-23 23:57:31.414 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-23 23:57:31.414 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-23 23:57:31.536 -05:00 [DBG] Starting grant removal
2018-12-23 23:57:31.846 -05:00 [DBG] Login Url: /Account/Login
2018-12-23 23:57:31.849 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-23 23:57:31.849 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-23 23:57:31.849 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-23 23:57:31.849 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-23 23:57:31.849 -05:00 [DBG] Error Url: /home/error
2018-12-23 23:57:31.849 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:00:08.996 -05:00 [DBG] Stopping grant removal
2018-12-24 00:00:08.998 -05:00 [DBG] TaskCanceledException. Exiting.
2018-12-24 00:02:24.446 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:02:24.493 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:02:24.493 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:02:24.493 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:02:24.493 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:02:24.493 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:02:24.782 -05:00 [DBG] Starting grant removal
2018-12-24 00:02:25.110 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:02:25.113 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:02:25.113 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:02:25.113 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:02:25.113 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:02:25.113 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:02:25.113 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:07:53.483 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:07:53.510 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:07:53.510 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:07:53.510 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:07:53.510 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:07:53.510 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:07:53.602 -05:00 [DBG] Starting grant removal
2018-12-24 00:07:53.835 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:07:53.836 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:07:53.837 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:07:53.837 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:07:53.837 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:07:53.837 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:07:53.837 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:08:51.686 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:08:51.778 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:08:51.778 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:08:51.778 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:08:51.778 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:08:51.778 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:08:51.971 -05:00 [DBG] Starting grant removal
2018-12-24 00:08:52.271 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:08:52.301 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:08:52.301 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:08:52.301 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:08:52.301 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:08:52.301 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:08:52.302 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:20:47.629 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:20:47.662 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:20:47.662 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:20:47.662 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:20:47.662 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:20:47.662 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:20:47.875 -05:00 [DBG] Starting grant removal
2018-12-24 00:20:48.131 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:20:48.134 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:20:48.134 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:20:48.134 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:20:48.134 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:20:48.134 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:20:48.134 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:22:35.885 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:22:35.936 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:22:35.936 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:22:35.936 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:22:35.936 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:22:35.936 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:22:36.205 -05:00 [DBG] Starting grant removal
2018-12-24 00:22:36.542 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:22:36.544 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:22:36.544 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:22:36.544 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:22:36.544 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:22:36.544 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:22:36.544 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:23:46.505 -05:00 [DBG] Stopping grant removal
2018-12-24 00:23:46.507 -05:00 [DBG] TaskCanceledException. Exiting.
2018-12-24 00:24:14.970 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:24:15.008 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:24:15.009 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:24:15.009 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:24:15.009 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:24:15.009 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:24:15.212 -05:00 [DBG] Starting grant removal
2018-12-24 00:24:15.466 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:24:15.469 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:24:15.469 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:24:15.469 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:24:15.469 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:24:15.470 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:24:15.470 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:25:42.593 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-12-24 00:30:22.291 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:30:22.339 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:30:22.340 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:30:22.340 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:30:22.340 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:30:22.340 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:30:22.481 -05:00 [DBG] Starting grant removal
2018-12-24 00:30:22.716 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:30:22.718 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:30:22.718 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:30:22.718 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:30:22.718 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:30:22.718 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:30:22.719 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 00:33:33.083 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 00:33:33.123 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 00:33:33.124 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 00:33:33.124 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 00:33:33.124 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 00:33:33.124 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 00:33:33.371 -05:00 [DBG] Starting grant removal
2018-12-24 00:33:33.731 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 00:33:33.733 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 00:33:33.733 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 00:33:33.733 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 00:33:33.733 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 00:33:33.733 -05:00 [DBG] Error Url: /home/error
2018-12-24 00:33:33.733 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 01:06:23.918 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 01:06:23.977 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 01:06:23.977 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 01:06:23.977 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 01:06:23.977 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 01:06:23.977 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 01:06:24.303 -05:00 [DBG] Starting grant removal
2018-12-24 01:06:24.959 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 01:06:24.963 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 01:06:24.963 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 01:06:24.963 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 01:06:24.963 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 01:06:24.963 -05:00 [DBG] Error Url: /home/error
2018-12-24 01:06:24.963 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 01:14:33.323 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 01:14:33.357 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 01:14:33.358 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 01:14:33.358 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 01:14:33.358 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 01:14:33.358 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 01:14:33.559 -05:00 [DBG] Starting grant removal
2018-12-24 01:14:33.804 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 01:14:33.807 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 01:14:33.807 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 01:14:33.807 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 01:14:33.807 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 01:14:33.808 -05:00 [DBG] Error Url: /home/error
2018-12-24 01:14:33.808 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 01:14:54.018 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-24 01:15:28.847 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-24 01:21:57.966 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2018-12-24 01:21:58.022 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2018-12-24 01:21:58.023 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2018-12-24 01:21:58.023 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2018-12-24 01:21:58.023 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2018-12-24 01:21:58.023 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2018-12-24 01:21:58.295 -05:00 [DBG] Starting grant removal
2018-12-24 01:21:58.770 -05:00 [DBG] Login Url: /Account/Login
2018-12-24 01:21:58.773 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2018-12-24 01:21:58.773 -05:00 [DBG] Logout Url: /Account/Logout
2018-12-24 01:21:58.773 -05:00 [DBG] ConsentUrl Url: /consent
2018-12-24 01:21:58.773 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2018-12-24 01:21:58.773 -05:00 [DBG] Error Url: /home/error
2018-12-24 01:21:58.773 -05:00 [DBG] Error Id Parameter: errorId
2018-12-24 01:22:04.241 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-24 01:22:13.058 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-12-24 01:22:16.343 -05:00 [INF] AuthenticationScheme: Google was challenged.
2018-12-24 01:22:17.360 -05:00 [INF] AuthenticationScheme: idsrv.external signed in.
2018-12-24 01:22:17.465 -05:00 [INF] {"Username":null,"Provider":"Google","ProviderUserId":"103374829249314395297","SubjectId":"d19ac377a9d4ecf9c79d5ab0b2b2d6192a9e38b2b8ad4f3083d9a11abbde1880","DisplayName":"Benoit R.","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLJ9D0DUOB35:00000004","TimeStamp":"2018-12-24T06:22:17.0000000Z","ProcessId":23744,"LocalIpAddress":"127.0.0.1:20935","RemoteIpAddress":"192.168.1.1","$type":"UserLoginSuccessEvent"}
2018-12-24 01:22:17.500 -05:00 [DBG] Augmenting SignInContext
2018-12-24 01:22:17.505 -05:00 [DBG] Adding amr claim with value: external
2018-12-24 01:22:17.513 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-12-24 01:22:17.514 -05:00 [INF] AuthenticationScheme: idsrv.external signed out.
2018-12-24 01:22:18.140 -05:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@__subjectId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[SubjectId] = @__subjectId_0
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'PersistedGrants', database 'Kazo', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a1868d1e-3486-42b7-ad70-5da5b1dade0a
Error Number:229,State:5,Class:14
2018-12-24 01:22:18.358 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'PersistedGrants', database 'Kazo', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider._FastQuery[TEntity](RelationalQueryContext relationalQueryContext, ShaperCommandContext shaperCommandContext, Func`3 materializer, Type contextType, IDiagnosticsLogger`1 logger)+MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.PersistedGrantStore.GetAllAsync(String subjectId) in C:\local\identity\server4\EntityFramework.Storage\src\Stores\PersistedGrantStore.cs:line 93
   at IdentityServer4.Services.DefaultPersistedGrantService.GetAllGrantsAsync(String subjectId) in C:\local\identity\server4\IdentityServer4\src\Services\Default\DefaultPersistedGrantService.cs:line 47
   at IdentityServer4.Services.DefaultIdentityServerInteractionService.GetAllUserConsentsAsync() in C:\local\identity\server4\IdentityServer4\src\Services\Default\DefaultIdentityServerInteractionService.cs:line 159
   at IdentityServer4.Quickstart.UI.GrantsController.BuildViewModelAsync() in D:\SmartThermostat\WinIot\ST.WinIot.App\ST.WinIot.WebHook\Quickstart\Grants\GrantsController.cs:line 64
   at IdentityServer4.Quickstart.UI.GrantsController.Index() in D:\SmartThermostat\WinIot\ST.WinIot.App\ST.WinIot.WebHook\Quickstart\Grants\GrantsController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:a1868d1e-3486-42b7-ad70-5da5b1dade0a
Error Number:229,State:5,Class:14
2018-12-24 01:27:06.072 -05:00 [DBG] 0 persisted grants found for d19ac377a9d4ecf9c79d5ab0b2b2d6192a9e38b2b8ad4f3083d9a11abbde1880
2018-12-24 01:27:29.331 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-24 01:27:32.971 -05:00 [INF] AuthenticationScheme: Google was challenged.
2018-12-24 01:27:33.691 -05:00 [INF] AuthenticationScheme: idsrv.external signed in.
2018-12-24 01:27:33.779 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-12-24 01:28:28.952 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UI.Services.IEmailSender' while attempting to activate 'ST.WinIot.WebHook.Areas.Identity.Pages.Account.RegisterModel'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.DefaultPageModelActivatorProvider.<>c__DisplayClass1_0.<CreateActivator>b__0(PageContext context)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.DefaultPageModelFactoryProvider.<>c__DisplayClass3_0.<CreateModelFactory>b__0(PageContext pageContext)
   at Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker.CreateInstance()
   at Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-12-24 01:48:43.499 -05:00 [DBG] Stopping grant removal
2018-12-24 01:48:43.501 -05:00 [DBG] TaskCanceledException. Exiting.
